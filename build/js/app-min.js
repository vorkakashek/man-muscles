"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}console.log("[ Script is running ༼ つ ◕_◕ ༽つ ]");var answers=[],questions=document.querySelectorAll(".quiz-question"),current_q=questions.length,images=document.querySelectorAll(".quiz-aside-img"),currentQHandler=function(){document.querySelector("#current-q").innerHTML=current_q+"/"+questions.length,_toConsumableArray(questions).map(function(e){return e.classList.remove("current")}),_toConsumableArray(images).map(function(e){return e.classList.remove("current")}),questions[current_q-1].classList.add("current"),images[current_q-1].classList.add("current"),prevBtnHandler(),nextBtnHandler(),questions[current_q-1].querySelector(".quiz-liker")&&initLiker(questions[current_q-1].querySelector(".quiz-liker")),document.querySelector("#quiz-progress .quiz-progress-value").style.width=100/questions.length*current_q+"%"},nextBtnHandler=function(){document.querySelectorAll(".quiz-question")[current_q-1].querySelectorAll(".filled");current_q===questions.length?document.querySelector("#next-q").innerHTML="Отправить":document.querySelector("#next-q").innerHTML="Далее",validator()?document.querySelector("#next-q").style.display="block":document.querySelector("#next-q").style.display="none"},validator=function(){var e=document.querySelectorAll(".quiz-question")[current_q-1],t=e.querySelectorAll('input[type="radio"]'),r=e.querySelectorAll('input[type="checkbox"]'),n=e.querySelectorAll('input[type="number"]');if((t.length>0||r.length>0)&&e.querySelector("input:checked"))return!0;if(n.length>0){var o=0;if(n.forEach(function(e){e.value.length>0&&o++}),o===n.length)return!0}return!1},prevBtnHandler=function(){document.querySelector("#prev-q").style.display=current_q>1?"flex":"none"},nextQ=function(){current_q<questions.length&&(current_q++,currentQHandler())},prevQ=function(){current_q>1&&(current_q--,currentQHandler())},initLiker=function(e){console.log("В этом вопросе есть Лайкер: "),console.log(e);var t=e.querySelectorAll(".quiz-liker-item");t.length>0&&initLikerItems(t);t[0].classList.add("current"),e.querySelector(".yes").addEventListener("click",function(e){e.target;console.log("ДА!")}),e.querySelector(".neutral").addEventListener("click",function(e){e.target;console.log("НЕЙТРАЛЬНО")}),e.querySelector(".no").addEventListener("click",function(e){e.target;console.log("НЕТ!")})},initLikerItems=function(e){console.log(e);for(var t=0;t<e.length;t++)e[t].style.transform="translateX("+30*t+"%)",e[t].style.zIndex=e.length-t};document.addEventListener("click",function(e){var t=e.target;t.matches("#prev-q")&&prevQ(),t.matches("#next-q")&&nextQ()}),document.querySelector('input[type="radio"]')&&document.querySelectorAll('input[type="radio"]').forEach(function(e){e.addEventListener("change",function(e){var t=e.target;_toConsumableArray(t.closest(".quiz-answer-frame").querySelectorAll(".input-radio")).map(function(e){return e.classList.remove("selected")}),t.closest(".input-radio").classList.add("selected"),t.hasAttribute("autonext")&&nextQ(),nextBtnHandler()})}),document.querySelector('input[type="checkbox"]')&&document.querySelectorAll('input[type="checkbox"]').forEach(function(e){e.addEventListener("change",function(e){var t=e.target;t.closest(".quiz-answer-frame");t.closest(".input-checkbox").classList.toggle("selected"),console.log("aaa"),nextBtnHandler()})}),document.querySelector('input[type="number"]')&&document.querySelectorAll('input[type="number"]').forEach(function(e){e.addEventListener("input",function(e){var t=e.target;t.closest(".quiz-answer-frame");t.value.length>0?t.closest(".input-text").classList.add("filled"):t.closest(".input-text").classList.remove("filled"),nextBtnHandler()})}),currentQHandler();